<!DOCTYPE html>
<html>
<head>
  <title>JS DOM Working Form Input</title>
  <style>
    .error-message {
      color: red;
    }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var form = document.getElementById('myForm');
      var nameField = document.getElementById('name');
      var emailField = document.getElementById('email');
      var passwordField = document.getElementById('password');
      var confirmPasswordField = document.getElementById('confirmPassword');
      
      // Function to handle form submission
      function handleSubmit(event) {
        event.preventDefault();
        var isValid = true;
        
        // Reset error messages
        var errorMessages = document.getElementsByClassName('error-message');
        for (var i = 0; i < errorMessages.length; i++) {
          errorMessages[i].textContent = "";
        }
        
        // Name validation
        if (nameField.value === "" || !/^[a-zA-Z]+$/.test(nameField.value)) {
          nameField.nextElementSibling.textContent = "Name is required and should contain only letters.";
          isValid = false;
        }
        
        // Email validation
        if (emailField.value === "" || !/\S+@\S+\.\S+/.test(emailField.value)) {
          emailField.nextElementSibling.textContent = "Email is required and should be a valid email address.";
          isValid = false;
        }
        
        // Password validation
        if (passwordField.value === "" || !/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/.test(passwordField.value)) {
          passwordField.nextElementSibling.textContent = "Password is required and should have a minimum length of 8 characters with at least one uppercase letter, one lowercase letter, and one digit.";
          isValid = false;
        }
        
        // Confirm Password validation
        if (confirmPasswordField.value === "" || confirmPasswordField.value !== passwordField.value) {
          confirmPasswordField.nextElementSibling.textContent = "Confirm Password should match the Password field.";
          isValid = false;
        }
        
        if (isValid) {
          // Form submission logic (e.g., sending data to server)
          alert("Form submitted successfully!");
        }
      }
      
      // Event listener for form submission
      form.addEventListener('submit', handleSubmit);
    });
  </script>
</head>
<body>
  <h1>Form Validation Example</h1>
  <form id="myForm">
    <div>
      <label for="name">Name:</label>
      <input type="text" id="name" name="name">
      <span class="error-message"></span>
    </div>
    <div>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email">
      <span class="error-message"></span>
    </div>
    <div>
      <label for="password">Password:</label>
      <input type="password" id="password" name="password">
      <span class="error-message"></span>
    </div>
    <div>
      <label for="confirmPassword">Confirm Password:</label>
      <input type="password" id="confirmPassword" name="confirmPassword">
      <span class="error-message"></span>
    </div>
    <div>
      <button type="submit">Submit</button>
    </div>
  </form>
</body>
</html>
